// ======================================================
// 色板相关函数
// ======================================================

@use 'sass:map';
@use './color-functions' as color-funcs;

// 创建色板颜色变量，同时生成CSS变量(亮色模式)
// @param {String} $prefix - 变量前缀
// @param {Color} $color - 基础颜色(5号颜色)
// @param {Map} $custom-colors - 自定义颜色映射(可选)
// @return {Map} - 包含所有颜色的Map
@function create-palette($prefix, $color, $custom-colors: ()) {
  // 默认生成9个梯度色
  $default-palette: (
    '1': color-funcs.lighten-color($color, 0.8),
    '2': color-funcs.lighten-color($color, 0.6),
    '3': color-funcs.lighten-color($color, 0.4),
    '4': color-funcs.lighten-color($color, 0.2),
    '5': $color,
    '6': color-funcs.darken-color($color, 0.1),
    '7': color-funcs.darken-color($color, 0.2),
    '8': color-funcs.darken-color($color, 0.3),
    '9': color-funcs.darken-color($color, 0.4)
  );

  // 合并自定义颜色
  @return map.merge($default-palette, $custom-colors);
}

// 创建色板颜色变量，同时生成CSS变量(暗色模式)
// @param {String} $prefix - 变量前缀
// @param {Color} $color - 基础颜色(5号颜色)
// @param {Map} $custom-colors - 自定义颜色映射(可选)
// @return {Map} - 包含所有颜色的Map
@function create-dark-palette($prefix, $color, $custom-colors: ()) {
  // 暗色模式下默认生成9个梯度色，方向与亮色模式相反
  $default-palette: (
    '1': color-funcs.darken-color($color, 0.4),
    '2': color-funcs.darken-color($color, 0.3),
    '3': color-funcs.darken-color($color, 0.2),
    '4': color-funcs.darken-color($color, 0.1),
    '5': $color,
    '6': color-funcs.lighten-color($color, 0.2),
    '7': color-funcs.lighten-color($color, 0.4),
    '8': color-funcs.lighten-color($color, 0.6),
    '9': color-funcs.lighten-color($color, 0.8)
  );

  // 合并自定义颜色
  @return map.merge($default-palette, $custom-colors);
}

// 为色板创建语义变量映射
// @param {Color} $base-color - 基础颜色(5号颜色)
// @return {Map} - 包含所有语义变量的Map
@function create-semantic-colors($base-color) {
  @return (
    'subdued': color-funcs.lighten-color($base-color, 0.2),
    'base': $base-color,
    'hover': color-funcs.hover-color($base-color),
    'active': color-funcs.active-color($base-color),
    'selected': color-funcs.selected-color($base-color),
    'emphasis': color-funcs.darken-color($base-color, 0.4),
    'disabled': color-funcs.disabled-color($base-color),
    'focus': $base-color
  );
}

// 创建渐变色映射
// @param {String} $prefix - 颜色前缀
// @param {Map} $palette - 色板映射
// @return {Map} - 包含所有渐变变量的Map
@function create-gradient-colors($prefix, $palette) {
  $color-1: map.get($palette, '1');
  $color-5: map.get($palette, '5');
  $color-9: map.get($palette, '9');

  @return (
    'horizontal-default': 'linear-gradient(to right, #{$color-1}, #{$color-9})',
    'vertical-default': 'linear-gradient(to bottom, #{$color-1}, #{$color-9})',
    'diagonal-default': 'linear-gradient(to bottom right, #{$color-1}, #{$color-9})',
    'radial-default': 'radial-gradient(circle, #{$color-1}, #{$color-9})',
    'horizontal-strong': 'linear-gradient(to right, #{$color-1}, #{$color-5}, #{$color-9})',
    'vertical-strong': 'linear-gradient(to bottom, #{$color-1}, #{$color-5}, #{$color-9})',
    'horizontal-reverse': 'linear-gradient(to right, #{$color-9}, #{$color-1})',
    'vertical-reverse': 'linear-gradient(to bottom, #{$color-9}, #{$color-1})'
  );
}

// 创建幽灵按钮(Ghost)颜色映射
// @param {Color} $base-color - 基础颜色(5号颜色)
// @return {Map} - 包含所有幽灵按钮变量的Map
@function create-ghost-colors($base-color) {
  @return (
    'ghost-bg': color-funcs.transparent-color($base-color, 0.1),
    'ghost-border': color-funcs.transparent-color($base-color, 0.5),
    'ghost-text': $base-color
  );
}
