/**
 * ******************************************************
 * @file                     styles/index.scss
 * @description             「复选框组件样式」
 * 复选框组件的所有样式定义
 * @author                  blancnova-web
 * ******************************************************
 */

@use './variables' as *;
@use './mixins' as *;

// ==================================================
// #region 复选框基础样式
// ==================================================

// 复选框容器
.bn-checkbox {
  position: relative;
  display: inline-flex;
  align-items: center;
  font-size: var(--bn-checkbox-font-size, 14px);
  line-height: 1;
  cursor: pointer;
  user-select: none;

  // 原生复选框（隐藏）
  input[type="checkbox"] {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 1;
    width: 100%;
    height: 100%;
    cursor: inherit;
    opacity: 0;
  }

  // 自定义复选框
  &__inner {
    position: relative;
    box-sizing: border-box;
    display: inline-block;
    width: var(--bn-checkbox-size, 16px);
    height: var(--bn-checkbox-size, 16px);
    background-color: var(--bn-checkbox-bg, #fff);
    border: 1px solid var(--bn-checkbox-border-color, #d9d9d9);
    border-radius: var(--bn-checkbox-border-radius, 2px);
    transition: all 0.3s;

    // 选中图标
    &::after {
      position: absolute;
      top: 40%;
      left: 50%;
      display: table;
      width: var(--bn-checkbox-check-width, 4px);
      height: var(--bn-checkbox-check-height, 8px);
      content: '';
      border: 2px solid var(--bn-checkbox-check-color, #fff);
      border-top: 0;
      border-left: 0;
      opacity: 0;
      transform: translate(-50%, -50%) rotate(45deg) scale(0);
      transition: all 0.2s cubic-bezier(0.12, 0.4, 0.29, 1.46) 0.1s;
    }
  }

  // 文本标签
  &__label {
    padding-left: 8px;
    color: var(--bn-checkbox-text-color, rgb(0 0 0 / 88%));
  }

  // 选中状态
  &--checked {
    .bn-checkbox__inner {
      background-color: var(--bn-checkbox-checked-bg, #1677ff);
      border-color: var(--bn-checkbox-checked-border, #1677ff);

      &::after {
        opacity: 1;
        transform: translate(-50%, -50%) rotate(45deg) scale(1);
      }
    }
  }

  // 半选状态
  &--indeterminate {
    .bn-checkbox__inner {
      background-color: var(--bn-checkbox-checked-bg, #1677ff);
      border-color: var(--bn-checkbox-checked-border, #1677ff);

      &::after {
        top: 50%;
        left: 50%;
        width: var(--bn-checkbox-indeterminate-width, 8px);
        height: var(--bn-checkbox-indeterminate-height, 2px);
        content: '';
        background-color: var(--bn-checkbox-check-color, #fff);
        border: 0;
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }
    }
  }

  // 禁用状态
  &--disabled {
    cursor: not-allowed;

    .bn-checkbox__inner {
      background-color: var(--bn-checkbox-disabled-bg, #f5f5f5);
      border-color: var(--bn-checkbox-disabled-border, #d9d9d9);

      &::after {
        border-color: var(--bn-checkbox-disabled-check-color, rgb(0 0 0 / 25%));
      }
    }

    .bn-checkbox__label {
      color: var(--bn-checkbox-disabled-text-color, rgb(0 0 0 / 25%));
    }

    &.bn-checkbox--checked {
      .bn-checkbox__inner {
        background-color: var(--bn-checkbox-disabled-checked-bg, #d9d9d9);
        border-color: var(--bn-checkbox-disabled-checked-border, #d9d9d9);
      }
    }
  }

  // 尺寸变体
  &--small {
    font-size: var(--bn-checkbox-font-size-sm, 12px);

    .bn-checkbox__inner {
      width: var(--bn-checkbox-size-sm, 14px);
      height: var(--bn-checkbox-size-sm, 14px);

      &::after {
        width: calc(var(--bn-checkbox-check-width, 4px) - 0.5px);
        height: calc(var(--bn-checkbox-check-height, 7px) - 1px);
        border-width: 1.25px;
      }
    }
  }

  &--large {
    font-size: var(--bn-checkbox-font-size-lg, 16px);

    .bn-checkbox__inner {
      width: var(--bn-checkbox-size-lg, 18px);
      height: var(--bn-checkbox-size-lg, 18px);

      &::after {
        width: calc(var(--bn-checkbox-check-width, 4px) + 0.5px);
        height: calc(var(--bn-checkbox-check-height, 7px) + 1px);
        border-width: 1.75px;
      }
    }
  }

  // 悬停状态
  &:hover:not(.bn-checkbox--disabled) {
    .bn-checkbox__inner {
      border-color: var(--bn-checkbox-hover-border, #1677ff);
    }
  }

  // 聚焦状态
  &:focus:not(.bn-checkbox--disabled) {
    .bn-checkbox__inner {
      border-color: var(--bn-checkbox-focus-border, #1677ff);
      box-shadow: 0 0 0 2px var(--bn-checkbox-focus-shadow, rgb(22 119 255 / 20%));
    }
  }
}

// 复选框组
.bn-checkbox-group {
  display: inline-flex;
  flex-wrap: wrap;
  gap: 8px;

  &--disabled {
    cursor: not-allowed;
  }

  // 尺寸变体
  &--small {
    gap: 6px;
  }

  &--large {
    gap: 10px;
  }
}

// #endregion
// ==================================================
