@use './variables' as *;

/**
 * 按钮变体-颜色样式系统
 *
 * 职责：
 * 1. 定义按钮变体(outlined/solid/dashed/soft/link/text)与颜色组合的样式
 * 2. 提供可扩展的变体-颜色组合生成器
 * 3. 确保样式的一致性和可维护性
 *
 * 使用方式：
 * 1. 在按钮根元素上引入变体和颜色类
 * 2. 配合 mixin-color-style.scss 使用
 *
 * 类名规范：
 * .bn-btn.bn-btn-variant-{variant}.bn-btn-color-{color}
 * 例如：.bn-btn.bn-btn-variant-outlined.bn-btn-color-primary
 */

// ======================================================
// 类型定义
// ======================================================

/// 按钮变体类型
$button-variants: ('outlined', 'solid', 'dashed', 'soft', 'link', 'text') !default;

/// 按钮颜色类型
$button-colors: ('default', 'primary', 'danger') !default;

// ======================================================
// 基础样式混入
// ======================================================

/// 基础禁用状态样式
@mixin button-disabled-state {
  &[disabled] {
    pointer-events: none;
    cursor: not-allowed;
  }
}

/// 基础交互状态样式
@mixin button-interactive-states {
  &:hover:not([disabled]),
  &:focus:not([disabled]) {
    @content;
  }
}

/// 基础激活状态样式
@mixin button-active-state {
  &:active:not([disabled]) {
    @content;
  }
}

// ======================================================
// 变体基础样式
// ======================================================

/// Outlined 变体基础样式
@mixin button-variant-outlined-base {
  color: var(--bn-btn-text-color);
  background-color: transparent;
  border-color: var(--bn-btn-border-color);
  box-shadow: var(--bn-btn-shadow);

  @include button-interactive-states {
    color: var(--bn-btn-primary-hover-text-color);
    background-color: transparent;
    border-color: var(--bn-btn-primary-hover-border-color);
  }

  @include button-active-state {
    color: var(--bn-btn-primary-active-text-color);
    background-color: transparent;
    border-color: var(--bn-btn-primary-active-border-color);
  }
}

/// Solid 变体基础样式
@mixin button-variant-solid-base {
  color: var(--bn-btn-text-color);
  background-color: var(--bn-btn-bg-color-soft);
  border-color: var(--bn-btn-border-color);
  box-shadow: var(--bn-btn-shadow);

  @include button-interactive-states {
    color: var(--bn-btn-hover-text-color);
    background-color: var(--bn-btn-hover-bg-color-soft);
  }

  @include button-active-state {
    color: var(--bn-btn-active-text-color);
    background-color: var(--bn-btn-active-bg-color-soft);
  }
}

/// Dashed 变体基础样式
@mixin button-variant-dashed-base {
  color: var(--bn-btn-text-color);
  background-color: transparent;
  border-color: var(--bn-btn-border-color);
  border-style: var(--bn-btn-dashed-border-style);
  border-width: var(--bn-btn-dashed-border-width);
  box-shadow: var(--bn-btn-dashed-shadow);

  @include button-interactive-states {
    color: var(--bn-btn-primary-hover-text-color);
    background-color: transparent;
    border-color: var(--bn-btn-primary-hover-border-color);
  }

  @include button-active-state {
    color: var(--bn-btn-primary-active-text-color);
    background-color: transparent;
    border-color: var(--bn-btn-primary-active-border-color);
  }
}

/// Soft 变体基础样式
@mixin button-variant-soft-base {
  color: var(--bn-btn-text-color);
  background-color: var(--bn-btn-bg-color-soft);
  border-style: var(--bn-btn-soft-border-style);
  border-width: var(--bn-btn-soft-border-width);
  box-shadow: none;

  @include button-interactive-states {
    color: var(--bn-btn-text-color-hover);
    background-color: var(--bn-btn-hover-bg-color-soft);
  }

  @include button-active-state {
    color: var(--bn-btn-text-color-active);
    background-color: var(--bn-btn-active-bg-color-soft);
  }
}

/// Text 变体基础样式
@mixin button-variant-text-base {
  color: var(--bn-btn-text-color);
  background-color: transparent;
  border: none;
  box-shadow: none;

  @include button-interactive-states {
    background-color: var(--bn-btn-hover-bg-color-soft);
  }

  @include button-active-state {
    background-color: var(--bn-btn-active-bg-color-soft);
  }
}

/// Link 变体基础样式
@mixin button-variant-link-base {
  color: var(--bn-btn-link-color);
  text-decoration: none;
  background-color: transparent;
  border: none;
  box-shadow: var(--bn-btn-link-shadow);

  @include button-interactive-states {
    color: var(--bn-btn-link-hover-color);
  }

  @include button-active-state {
    color: var(--bn-btn-link-active-color);
  }
}

// ======================================================
// 颜色样式覆盖
// ======================================================

/// Outlined 变体颜色样式
@mixin button-variant-outlined-color($color) {
  @if $color != 'default' {
    color: var(--bn-btn-#{$color}-text-color);
    background-color: transparent;
    border-color: var(--bn-btn-#{$color}-border-color);
    box-shadow: var(--bn-btn-#{$color}-shadow);

    @include button-interactive-states {
      color: var(--bn-btn-#{$color}-hover-text-color);
      background-color: transparent;
      border-color: var(--bn-btn-#{$color}-hover-border-color);
      box-shadow: var(--bn-btn-#{$color}-hover-shadow);
    }

    @include button-active-state {
      color: var(--bn-btn-#{$color}-active-text-color);
      background-color: transparent;
      border-color: var(--bn-btn-#{$color}-active-border-color);
      box-shadow: var(--bn-btn-#{$color}-active-shadow);
    }

    &[disabled] {
      color: var(--bn-btn-#{$color}-disabled-text-color);
      background-color: transparent;
      border-color: var(--bn-btn-#{$color}-disabled-border-color);
      box-shadow: var(--bn-btn-#{$color}-disabled-shadow);
    }
  }
}

/// Solid 变体颜色样式
@mixin button-variant-solid-color($color) {
  @if $color != 'default' {
    color: var(--bn-btn-#{$color}-inverse-text-color);
    background-color: var(--bn-btn-#{$color}-bg-color);
    border-color: var(--bn-btn-#{$color}-border-color);
    box-shadow: var(--bn-btn-#{$color}-shadow);

    @include button-interactive-states {
      color: var(--bn-btn-#{$color}-inverse-text-color);
      background-color: var(--bn-btn-#{$color}-hover-bg-color);
      border-color: var(--bn-btn-#{$color}-hover-border-color);
      box-shadow: var(--bn-btn-#{$color}-hover-shadow);
    }

    @include button-active-state {
      color: var(--bn-btn-#{$color}-inverse-text-color);
      background-color: var(--bn-btn-#{$color}-active-bg-color);
      border-color: var(--bn-btn-#{$color}-active-border-color);
      box-shadow: var(--bn-btn-#{$color}-active-shadow);
    }

    &[disabled] {
      color: var(--bn-btn-#{$color}-disabled-text-color);
      background-color: var(--bn-btn-#{$color}-disabled-bg-color);
      border-color: var(--bn-btn-#{$color}-disabled-border-color);
      box-shadow: var(--bn-btn-#{$color}-disabled-shadow);
    }
  }
}

/// Soft 变体颜色样式
@mixin button-variant-soft-color($color) {
  @if $color != 'default' {
    color: var(--bn-btn-#{$color}-text-color);
    background-color: var(--bn-btn-#{$color}-bg-color-soft);
    border-color: var(--bn-btn-#{$color}-border-color);
    box-shadow: none;

    @include button-interactive-states {
      color: var(--bn-btn-#{$color}-hover-text-color);
      background-color: var(--bn-btn-#{$color}-hover-bg-color-soft);
      border-color: var(--bn-btn-#{$color}-hover-border-color);
      box-shadow: none;
    }

    @include button-active-state {
      color: var(--bn-btn-#{$color}-active-text-color);
      background-color: var(--bn-btn-#{$color}-active-bg-color-soft);
      border-color: var(--bn-btn-#{$color}-active-border-color);
      box-shadow: none;
    }

    &[disabled] {
      color: var(--bn-btn-#{$color}-disabled-text-color);
      background-color: var(--bn-btn-#{$color}-disabled-bg-color);
      border-color: var(--bn-btn-#{$color}-disabled-border-color);
      box-shadow: none;
    }
  }
}

/// Dashed 变体颜色样式
@mixin button-variant-dashed-color($color) {
  @if $color != 'default' {
    color: var(--bn-btn-#{$color}-text-color);
    background-color: transparent;
    border-color: var(--bn-btn-#{$color}-border-color);


    @include button-interactive-states {
      color: var(--bn-btn-#{$color}-hover-text-color);
      background-color: transparent;
      border-color: var(--bn-btn-#{$color}-hover-border-color);
    }

    @include button-active-state {
      color: var(--bn-btn-#{$color}-active-text-color);
      background-color: transparent;
      border-color: var(--bn-btn-#{$color}-active-border-color);
    }

    &[disabled] {
      color: var(--bn-btn-#{$color}-disabled-text-color);
      background-color: transparent;
      border-color: var(--bn-btn-#{$color}-disabled-border-color);
    }
  }
}

/// Text 变体颜色样式
@mixin button-variant-text-color($color) {
  @if $color != 'default' {
    color: var(--bn-btn-#{$color}-text-color);
    background-color: transparent;
    border: none;
    box-shadow: none;

    @include button-interactive-states {
      color: var(--bn-btn-#{$color}-hover-text-color);
      background-color: var(--bn-btn-#{$color}-hover-bg-color-soft);
      border: none;
      box-shadow: none;
    }

    @include button-active-state {
      color: var(--bn-btn-#{$color}-active-text-color);
      background-color: var(--bn-btn-#{$color}-active-bg-color-soft);
      border: none;
      box-shadow: none;
    }

    &[disabled] {
      color: var(--bn-btn-#{$color}-disabled-text-color);
      background-color: var(--bn-btn-#{$color}-disabled-bg-color-soft);
      border: none;
      box-shadow: none;
    }
  }
}

/// Link 变体颜色样式
@mixin button-variant-link-color($color) {
  @if $color != 'default' {
    color: var(--bn-btn-#{$color}-text-color);
    background-color: transparent;
    border: none;
    box-shadow: none;

    @include button-interactive-states {
      color: var(--bn-btn-#{$color}-hover-text-color);
      background-color: transparent;
      border: none;
      box-shadow: none;
    }

    @include button-active-state {
      color: var(--bn-btn-#{$color}-active-text-color);
      background-color: transparent;
      border: none;
      box-shadow: none;
    }

    &[disabled] {
      color: var(--bn-btn-#{$color}-disabled-text-color);
      background-color: transparent;
      border: none;
      box-shadow: none;
    }
  }
}

// ======================================================
// 变体-颜色组合生成器
// ======================================================

/// 生成变体-颜色组合样式
@mixin button-variant-color-combination($variant, $color) {
  // 应用基础变体样式
  @if $variant == 'outlined' {
    @include button-variant-outlined-base;
    @include button-variant-outlined-color($color);
  } @else if $variant == 'solid' {
    @include button-variant-solid-base;
    @include button-variant-solid-color($color);
  } @else if $variant == 'dashed' {
    @include button-variant-dashed-base;
    @include button-variant-dashed-color($color);
  } @else if $variant == 'soft' {
    @include button-variant-soft-base;
    @include button-variant-soft-color($color);
  } @else if $variant == 'link' {
    @include button-variant-link-base;
    @include button-variant-link-color($color);
  } @else if $variant == 'text' {
    @include button-variant-text-base;
    @include button-variant-text-color($color);
  }
}

// ======================================================
// 主样式混入
// ======================================================

/// 按钮变体-颜色样式主混入
@mixin button-variant-color-style {
  @each $variant in $button-variants {
    @each $color in $button-colors {
      .#{$button-prefix}.#{$button-prefix}-variant-#{$variant}.#{$button-prefix}-color-#{$color} {
        @include button-variant-color-combination($variant, $color);
      }
    }
  }
}

