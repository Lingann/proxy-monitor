# 组件合并与迁移计划

## 目标
1. 将 `common-search-input` 合并到 `search-input.tsx`，保留所有 API 和功能
2. 将 `search-input.tsx` 迁移到 `bn-input/variant-components/bn-search-input/`
3. 将 `password-input.tsx` 迁移到 `bn-input/variant-components/bn-password-input/`
4. 遵循 Vue 3 TSX 技能规范

## 实施步骤

### 第一步：创建目录结构
```
bn-input/
  variant-components/
    bn-search-input/
      bn-search-input.tsx
      props/
        bn-search-input-props.ts
      composables/
        use-search-input-config.ts
        use-search-input-state.ts
        use-search-input-data.ts
        use-search-input-events.ts
      utils/
        index.ts
      styles/
        bn-search-input.scss
      index.ts
    bn-password-input/
      bn-password-input.tsx
      props/
        bn-password-input-props.ts
      styles/
        bn-password-input.scss
      index.ts
```

### 第二步：合并 CommonSearchInput 到 BnSearchInput
- 合并两个组件的 Props（保留 `config` 对象和所有 CommonSearchInput 的功能）
- 合并 composables（Fuse.js 搜索、下拉框、键盘导航等）
- 保留所有 API：`open()`, `close()`, `clear()`, `search()`
- 使用 Props 回调模式（禁止 emits）
- 遵循中划线命名规范

### 第三步：迁移 PasswordInput
- 移动到新目录
- 更新导入路径
- 保持现有功能不变

### 第四步：更新引用
- 更新 `monitor.tsx` 中的导入路径
- 更新 `bn-input/index.ts` 中的导出

### 第五步：清理旧文件
- 删除 `common-search-input` 目录
- 删除旧的 `search-input.tsx` 和 `password-input.tsx`
- 删除旧的 props 和 styles 文件

## 技术要点
- 使用 `defineComponent` + TSX
- Props 回调模式（`onUpdateModelValue`, `onChange`, `onSearch` 等）
- 逻辑下沉到 composables
- BEM 命名法（`bn-search-input__element`）
- 呼吸感排版
- 国际化支持（`useI18n`）