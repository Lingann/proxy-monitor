# bn-select 组件规范重构计划

## 核心修复（必须）

### 1. 修复双向绑定事件处理（最严重）
- **文件**：`bn-select.tsx`, `select-props.ts`, `use-select-events.ts`
- **改动**：
  - 在 `bn-select.tsx` 中添加 `emits: ['update:modelValue']` 选项
  - 从 `select-props.ts` 中移除 `onUpdateModelValue` Props
  - 在 `use-select-events.ts` 中将 `emit` 作为参数传入
  - 使用 `emit('update:modelValue', value)` 替代 `props.onUpdateModelValue?.(value)`

### 2. 修复 Ref 变量命名
- **文件**：`use-select-state.ts`, `use-select-render.ts`
- **改动**：
  - `isOpen` → `isOpenRef`
  - `dropdownPosition` → `dropdownPositionRef`
  - `selectedOption` → `selectedOptionRef`
  - `containerClasses` → `containerClassesRef`
  - `dropdownClasses` → `dropdownClassesRef`
  - `containerStyles` → `containerStylesRef`
  - `dropdownStyles` → `dropdownStylesRef`

### 3. 修复注释格式
- **文件**：所有文件
- **改动**：将所有 `//` 单行注释改为 `/* ... */` 单行块注释

## 代码优化（推荐）

### 4. 优化代码排版
- **文件**：所有文件
- **改动**：执行"一行代码 + 一行空格"原则，增强代码呼吸感

### 5. 使用卫语句优化逻辑
- **文件**：`use-select-events.ts`
- **改动**：在 `handleSelect` 中使用卫语句提前返回

### 6. 应用极简调用规范
- **文件**：`use-select-state.ts`
- **改动**：将 `nextTick` 调用改为单行

### 7. 优化 Composables 命名
- **文件**：`use-select-events.ts`
- **改动**：重命名为 `use-select-event.ts`（单数形式）

## 预期效果
✅ 完全符合 vue-code-skill 规范
✅ 双向绑定使用标准的 emits 模式
✅ 所有响应式变量命名规范
✅ 代码风格统一且清晰
✅ 代码可读性和可维护性提升